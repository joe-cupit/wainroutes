
.filter__checkbox,
.filter__radio {
  display: flex;
  /* align-items: center; */
  gap: 0.5rem;
  margin-inline-start: 0.25rem;
  width: fit-content;
  height: fit-content;
  
  font-weight: var(--fw-medium);
  
  /* user-select: none; */
  cursor: pointer;
}
.filter__checkbox:has(input:disabled),
.filter__radio:has(input:disabled) {
  color: var(--clr-neutral-600);
  cursor: default;
}
.filter__checkbox:has(input:focus-visible),
.filter__radio:has(input:focus-visible) {
  outline-offset: 0.125rem;
  outline: 0.125rem solid var(--clr-neutral-400);
  border-radius: 0.125rem;
}

.filter__checkbox::before,
.filter__radio::before {
  content: "";
  width: 1.125rem;
  height: 1.125rem;

  color: var(--clr-neutral-900);
  border: 0.2rem solid var(--clr-neutral-400);
  border-radius: 0.375rem;
}
.filter__checkbox:has(input:checked)::before,
.filter__radio:has(input:checked)::before {
  background: var(--clr-neutral-400);
}
.filter__checkbox:has(input:disabled)::before,
.filter__radio:has(input:disabled)::before {
  border-color: var(--clr-neutral-600);
}
.filter__checkbox:has(input:checked:disabled)::before,
.filter__radio:has(input:checked:disabled)::before {
  background-color: var(--clr-neutral-600);
}
.filter__checkbox input,
.filter__radio input {
  position: absolute;
  inset: 0;
  width: 1px;
  height: 1px;
  margin: 0;
  padding: 0;
  overflow: hidden;
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  white-space: nowrap;
  border: 0;
}

.filter__checkbox::before {
  scale: 0.9;
}
.filter__checkbox:has(input:checked)::before {
  content: '';
  background-image: url('data:image/svg+xml;utf8,<svg viewBox="-80 -80 670 670" xmlns="http://www.w3.org/2000/svg" fill="white"><path d="m173.898 439.404-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0l112.095 112.094 240.095-240.094c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>');
}
.filter__checkbox-link {
  text-decoration: underline;
  text-align: left;
  width: fit-content;
  padding-inline: 0.5rem;
}

.filter__radio::before {
  border-radius: 100%;
}
.filter__radio:has(input:checked)::before {
  box-shadow: inset 0 0 0 2px var(--clr-neutral-1000);
}


.filter__group,
.filter__search,
.filter__search input,
.filter__select,
.filter__button {
  width: 100%;
}

.filter__group,
.filter__radio-group,
.filter__checkbox-group {
  display: grid;
  gap: 0.375rem;
}
.filter__radio-group,
.filter__checkbox-group {
  gap: 0.25rem;
  padding-block: 0.25rem;
}

.filter__checkbox-group {
  max-height: 11rem;
  overflow-y: auto;
  margin-block-start: 0.25rem;
}
.filter__checkbox-info {
  font-style: italic;
  margin-inline-start: 0.375rem;
}

.filter__group h3 {
  font-size: var(--fs-400);
  font-weight: var(--fw-bold);
  line-height: 1.1;
}


.filter__search {
  position: relative;
}
.filter__search input {
  background: none;
  border: none;
  
  padding-inline: 0.25rem;
  padding-block: 0 0.125rem;
  margin-block: 0 0.25rem;

  outline: none
}
.filter__search::after {
  content: "";
  position: absolute;
  inset: 0;

  border-block-end: 0.125rem solid var(--clr-neutral-400);
  pointer-events: none;
  /* z-index: -1; */
}
.filter__search:has(input:focus-visible)::after {
  border-width: 0.25rem;
}

.filter__select {
  padding-inline: 0.125rem;
  padding-block: 0.0125rem;

  display: grid;
  gap: 0.125rem;

  max-height: 12rem;
  overflow-y: auto;
}
.filter__radio-select {
  width: 100%;
  padding-block: 0.125rem;
  padding-inline: 0.25rem;
  margin-inline: -0.125rem;
  border-radius: 0.25rem;
  font-weight: var(--fw-regular);
}
.filter__radio-select::before {
  display: none;
}
.filter__radio-select:hover {
  background: var(--clr-neutral-800);
}
.filter__radio-select:has(input:checked) {
  color: var(--clr-neutral-900);
  background: var(--clr-neutral-400);
}
.filter__radio-select:has(input:disabled) {
  color: var(--clr-neutral-600);
}
.filter__radio-select:has(input:disabled):hover {
  background: none;
}
.filter__radio-select:has(input:checked:disabled) {
  color: var(--clr-neutral-800);
  background: var(--clr-neutral-500);
}


.filters {
  container-type: inline-size;

  display: flex;
  flex-direction: column;
  gap: 1rem;
  width: 100%;

  /* border-radius: 0.375rem; */
  /* background: var(--clr-neutral-800); */
  padding-block: 0.5rem;
  padding-inline: 0.25rem;

  @media (max-width: 50rem) {
    flex-direction: column;
  }

  z-index: 1;
}
.filters[data-open="false"] {
  padding-block-end: 0.5rem;
}

.filters__heading {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.filters__main {
  /* display: contents; */
  /* display: flex;
  flex-wrap: wrap; */
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(13rem, 1fr));

  gap: var(--gap-400);

  @container (max-width: 35rem) {
    flex-direction: column;
  }
}
.filters[data-open="false"] .filters__main {
  display: none;
}

.filters__open-close {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.25rem;

  margin-inline-start: auto;
}
.filters__open-close svg {
  rotate: 45deg;
}
.filters[data-open="false"] .filters__open-close svg {
  rotate: 0deg;
}

.filters__open-close_bottom {
  width: fit-content;
  margin-inline: auto;
}
.filters__open-close_bottom:hover {
  text-decoration: underline;
}


.new-filter-group {
  /* min-width: fit-content; */
  position: relative;

  height: fit-content;

  color: var(--clr-neutral-400);
  /* border: 1px solid var(--clr-neutral-600);
  border-left: none;
  border-right: none; */
  border-radius: 0.5rem;
  background: var(--clr-neutral-800);

  transition-property: color, border-color;
  transition-duration: 100ms;
}
.new-filter-group[data-open="true"] {
  background: var(--clr-neutral-900);
  color: var(--clr-neutral-400);
  border-color: currentColor;

  box-shadow: 3px 3px 4px hsl(from var(--clr-neutral-400) h s l / .3);
}

.new-filter-group__active-value {
  font-size: var(--fs-400);
}
.new-filter-group[data-active="true"] .new-filter-group__active-value {
  font-weight: var(--fw-bold);
}

.new-filter-group__button {
  cursor: pointer;
  padding-inline: 0.5rem;
  padding-block: 0.375rem;

  display: grid;
  justify-items: start;
  gap: 0.125rem;
  min-width: fit-content;
  white-space: nowrap;

  width: 100%;
}
.new-filter-group__button h3 {
  font-size: var(--fs-300);
  font-weight: var(--fw-medium);
}


.new-filter-group__main {
  display: none;
  padding-inline: 0.5rem;
  padding-block: 0 0.5rem;

  position: absolute;
  top: 60%;
  left: 0;
  width: 100%;

  background: inherit;
  border-bottom: inherit;
  box-shadow: inherit;
  border-radius: inherit;

  z-index: 999999;

  /* @media (max-width: 32rem) {
    position: initial;
  } */
}

.new-filter-group[data-open="true"] {
  /* box-shadow: 2px 2px 4px var(--clr-neutral-700); */
  border-color: var(--clr-neutral-400);

  .new-filter-group__active-value {
    /* display: none; */
    opacity: 0;
  }
  .new-filter-group__main {
    display: block;
    /* box-shadow: 2px 2px 4px var(--clr-neutral-700); */
  }
}
.new-filter-group[data-active="true"] {
  color: var(--clr-neutral-400);
}
