.container {
  width: 100%;
  height: 100%;

  /* border: 0.1rem solid var(--clr-neutral-700); */
  /* border-radius: 0.5rem; */
  overflow: hidden;
}

/*  */

.route {
  /* stroke: var(--clr-primary-300); */
  stroke: currentColor;
  stroke-width: 4;
  /* --_drop-colour: var(--clr-neutral-800);
  filter: drop-shadow(1px 0 0 var(--_drop-colour))
          drop-shadow(0 1px 0 var(--_drop-colour))
          drop-shadow(-1px 0 0 var(--_drop-colour))
          drop-shadow(0 -1px 0 var(--_drop-colour)); */
  cursor: default;

  stroke-linecap: round;
  stroke-linejoin: round;
}
.hoveredPoint {
  /* fill: var(--clr-primary-300); */
  /* stroke: white; */
  /* stroke-width: 1; */
  /* filter: drop-shadow(0 0 0.125rem #0007); */
  fill: var(--clr-bg-light);
  stroke: currentColor;
  stroke-width: 3;
}

.startPoint,
.endPointBottom,
.endPointTop {
  fill: currentColor;
  cursor: default;
}
.startPoint {
  fill: oklch(0.75 0.2 143);
  stroke: currentColor;
  stroke-width: 2;
}
.endPointTop {
  stroke: var(--clr-bg-light);
  stroke-width: 1.5;
}

.marker {
  position: relative;
  width: 24px;
  aspect-ratio: 1;
  fill: var(--clr-primary-400);
  stroke: black;
  stroke-width: 2;
  translate: 20% 50%;
}

.cluster {
  transition-property: scale, translate, fill;
  transition-duration: 75ms;
}
.marker:hover,
.marker:has(.focussedCluster) {
  z-index: 99;
}
.marker:hover .cluster,
.focussedCluster {
  scale: 1.3;
  translate: 0 -5px;
}
.clusterTooltip {
  display: none;

  position: absolute;
  bottom: 100%;
  left: 50%;
  translate: -50% calc(-2.5 * var(--gap-200));

  font-weight: var(--fw-medium);

  width: max-content;
  text-align: center;

  background: var(--clr-bg-light);
  padding: var(--gap-300) var(--gap-400);
  border-radius: var(--gap-300);

  box-shadow: 3px 3px 5px oklch(from var(--clr-text) l c h / 0.15);
}
.clusterTooltipTip {
  font-weight: var(--fw-regular);
  font-size: var(--fs-300);
}
.clusterTooltip::after {
  content: "";
  --_width: var(--gap-300);
  width: var(--_width);
  height: var(--_width);
  rotate: 45deg;

  position: absolute;
  top: calc(100% - var(--_width) / 2);
  left: 50%;
  translate: -50% 0;
  background: inherit;

  box-shadow: inherit;
}

/*  */

.marker:hover .clusterTooltip,
.marker:has(.focussedCluster) .clusterTooltip {
  display: block;
}

.cluster svg {
  position: absolute;

  &[data-is-secondary="true"] {
    filter: saturate(0.625);
    scale: 0.75;
    translate: -1px 3px;
  }
}
.cluster svg:nth-child(1) {
  z-index: 10;
}
.cluster svg:nth-child(2) {
  opacity: 0.95;
  z-index: 9;
  transform: translate(5px, -1px) scale(0.95);
}
.cluster svg:nth-child(3) {
  opacity: 0.95;
  z-index: 8;
  transform: translate(-5px, -1px) scale(0.95);
}
.cluster svg:nth-child(n + 4) {
  display: none;
}

/*  */

.hillMarker[data-book="1"] {
  fill: var(--clr-wain-book-1);
}
.hillMarker[data-book="2"] {
  fill: var(--clr-wain-book-2);
}
.hillMarker[data-book="3"] {
  fill: var(--clr-wain-book-3);
}
.hillMarker[data-book="4"] {
  fill: var(--clr-wain-book-4);
}
.hillMarker[data-book="5"] {
  fill: var(--clr-wain-book-5);
}
.hillMarker[data-book="6"] {
  fill: var(--clr-wain-book-6);
}
.hillMarker[data-book="7"] {
  fill: var(--clr-wain-book-7);
}

.walkMarker {
  fill: lightblue;
}

.leftFloat {
  position: absolute;
  top: 74px;
  left: 10px;
}
.rightFloat {
  position: absolute;
  top: 10px;
  right: 10px;
}

.button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  margin-bottom: 1px;

  border: medium;
  outline: none;
  border-radius: 2px;
  color: rgb(102, 102, 102);
  background: white;
  box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 4px -1px;

  font-size: 20px;
  font-weight: 700;
  line-height: 26px;

  cursor: pointer;

  transition: background-color 100ms;

  & svg {
    max-width: 80%;
    max-height: 80%;
  }

  &:hover {
    background: #fafafa;
  }
  &:focus-visible,
  &:focus-visible {
    outline: 2px solid black !important;
    outline-offset: 0 !important;
  }
}

.attribution {
  cursor: default;
}
.attribution a {
  color: var(--clr-text);
  font-weight: var(--fw-bold);
}
.attribution a:hover {
  text-decoration: underline;
}
